# HTTP协议

## HTTP的主要特点：

* 简单快捷：每个资源的URI固定
* 灵活：通过一个HTTP，可以通过不同数据类型的传输
* 无连接：连接一次就会断开，不会保持连接
* 无状态：单从HTTP协议上，服务器不能区别两次连接者的身份

## HTTP报文的组成部分![](/assets/HTTP报文.png)HTTP方法：

* GET：获取资源

* POST：传输资源

* PUT：更新资源

* DELETE：删除资源

* HEAD：获得报文首部

## POST和GET的区别：

* GET在浏览器回退时是无害的，而POST会再次提交请求
* GET产生的URL地址可以被收藏，而POST不可以
* GET请求被会浏览器主动缓存，而POST不会，除非手动设置
* GET请求只能进行url编码，而POST支持多种编码方式
* GET请求参数会被完整保留在浏览器历史记录里，而POST中的参数不会被保留
* GET请求在URL中传送的参数是有长度限制的，而POST没有限制
* 对参数的数据类型，GET只接受ASCII字符，而POST没有限制
* GET比POST更不安全，因为参数直接暴露在URL上，所以不能用来传递敏感信息
* GET参数通过URL传递，POST放在Request body中 

## HTTP状态码

* 1XX：指示信息，表示请求已接受，继续处理
* 2XX：成功，表示请求已被成功接收（200、206）

* 3XX：重定向，要完成请求必须进行更进一步的操作（301、302、304）

* 4XX：客户端错误：请求有语法错误或请求无法实现（400、401、403、404）

* 5XX：服务器错误：服务器未能实现合法的请求（500、503）

## 持久链接

HTTP协议采用的是”请求-应答“模式，当使用普通模式（非Keep-Alive模式），每个请求/应答客户和服务器都要重新建一个连接，完成之后立即断开连接（HTTP为无连接协议）。

当使用Keep-Alive模式时，Keep-Alive功能使客户端到服务器端的连接有效，当出现对服务器的后继请求时，Keep-Alive功能避免了建立或者重新建立连接。

## 管线化

在使用持久链接的情况下，某个链接的消息传递类似于：请求1 -&gt; 响应1 -&gt; 请求2 -&gt; 响应2 -&gt; 请求3 -&gt; 响应3

管线化使某个链接的消息变成：请求1 -&gt; 请求2 -&gt; 请求3 -&gt; 响应1 -&gt; 响应2 -&gt; 响应3

1. 管线化机制通过持久链接完成，仅HTTP/1.1支持
2. 只有GET和HEAD请求可以管线化，而POST有所限制
3. 初次创建链接时不应启动管线机制，因为对方（服务器）不一定支持HTTP/1.1协议
4. HTTP/1.1要求服务器端支持管线化，但不要求服务器端也对响应进行管线化处理，只是要求对于管线化的请求不失败即可
5. 管线化不会影响响应到来的顺序



