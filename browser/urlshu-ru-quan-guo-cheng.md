# URL输入全过程

浏览器输入URL后HTTP请求返回过程：

![](/assets/URL输入全过程.png)

主要过程：

首先，查找浏览器自身的DNS缓存；若没有，则查找本地系统的hosts缓存，有则完成DNS解析；若没有，则查找本地DNS域名服务器，若没有，则继续查找根域名服务器，进而一步步找到目标服务器的IP地址；然后，与目标服务器进行三次握手建立TCP连接。首先，客户端向服务端发起请求报文，发送SYN=1，seq=x；服务端收到请求报文后，发送确认报文，发送ACK=1，SYN=1，seq=y，ack=x+1；客户端收到确认报文后，向服务端发出确认报文，发送ACK=1，seq=x+1，ack=y+1；TCP连接建立后，服务端根据请求找出对应数据，将其返回浏览器；浏览器解析HTML、CSS，分别构建DOM树和CSSOM，组成Render树，最后根据Render树布局和绘制，呈现网站内容。

