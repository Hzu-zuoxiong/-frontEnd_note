# Vue 考点

## 一、对于 `MVVM` 的理解?

`MVVM` 是 `Model-View-ViewModel` 的缩写。

- `Model` 代表数据模型，也可以在 `Model` 中定义数据修改和操作的业务逻辑。
- `View` 代表 `UI` 组件，它负责将数据模型转化成 `UI` 展现出来。
- `ViewModel` 监听模型数据的改变和控制视图行为、处理用户交互，简单理解就是一个同步`View` 和 `Model` 的对象，连接 `Model` 和 `View`。

在 `MVVM` 架构下，`View` 和 `Model` 之间并没有直接的联系，而是通过 `ViewModel` 进行交互，`Model` 和 `ViewModel` 之间的交互是双向的， 因此 `View` 数据的变化会同步到 `Model`中，而 `Model` 数据的变化也会立即反应到 `View` 上。

`ViewModel` 通过双向数据绑定把 `View` 层和 `Model` 层连接了起来，而 `View` 和 `Model` 之间的同步工作完全是自动的，无需人为干涉，因此开发者只需关注业务逻辑，不需要手动操作 `DOM`，不需要关注数据状态的同步问题，复杂的数据状态维护完全由 `MVVM` 来统一管理。

## 二、`Vue` 的生命周期

`Vue` 实例从创建到销毁的过程，就是生命周期。从开始创建、初始化数据、编译模板、挂载 `Dom`→ 渲染、更新 → 渲染、销毁等一系列过程，称之为 `Vue` 的生命周期。生命周期中有多个事件钩子，让我们在控制整个 `Vue` 实例的过程时更容易形成好的逻辑。

第一次页面加载会触发下面这几个 `beforeCreate、created、beforeMount、mounted` 钩子。 `DOM` 渲染在 `mounted` 中就已经完成了。

1. `beforeCreate`（创建前），在数据观测和初始化事件还未开始
2. `created`（创建后），完成数据观测，属性和方法的运算，初始化事件， \$el 属性还没有显示出来。
3. `beforeMount`（载入前），在挂载开始之前被调用，相关的 `render` 函数首次被调用。实例已完成以下的配置：编译模板，把 `data` 里面的数据和模板生成 `html`。注意此时还没有挂载 `html` 到页面上。
4. `mounted`（载入后），在 `el` 被新创建的 `vm.$el` 替换，并挂载到实例上去之后调用。实例已完成以下的配置：用上面编译好的 `html` 内容替换 `el` 属性指向的 `DOM` 对象。完成模板中的 `html` 渲染到 `html` 页面中。此过程中进行 `ajax` 交互。
5. `beforeUpdate`（更新前），在数据更新之前调用，发生在虚拟 `DOM` 重新渲染和打补丁之前。可以在该钩子中进一步地更改状态，不会触发附加的重渲染过程。
6. `updated`（更新后），在由于数据更改导致的虚拟 `DOM` 重新渲染和打补丁之后调用。调用时，组件 `DOM` 已经更新，所以可以执行依赖于 `DOM` 的操作。然而在大多数情况下，应该避免在此期间更改状态，因为这可能会导致更新无限循环。该钩子在服务器端渲染期间不被调用。
7. `beforeDestroy`（销毁前），在实例销毁之前调用。实例仍然完全可用。
8. `destroyed`（销毁后），在实例销毁之后调用。调用后，所有的事件监听器会被移除，所有的子实例也会被销毁。该钩子在服务器端渲染期间不被调用。

# 三、 组件之间的传值？

1. 父组件与子组件传值

父组件传给子组件：子组件通过 `props` 方法接受数据；

子组件传给父组件： `$emit` 方法传递参数

2. 非父子组件间的数据传递，兄弟组件传值

`eventBus`，就是创建一个事件中心，相当于中转站，可以用它来传递事件和接收事件。也可以直接使用 `Vuex`。

- `Vue.cli`中怎样使用自定义的组件？有遇到过哪些问题？

```
1.在components目录新建你的组件文件(index.vue)，script一定要export default {}
2.在需要用到组件的页面中导入：import index from '/component/index.vue'
3.注册到vue的components属性中，components: {index}
4.在template视图中使用<index></index>
```

- `v-show`和`v-if`指令的不同点？

```
v-show是通过修改元素的display的CSS属性让其显示或者隐藏
v-if是直接销毁和重建DOM达到让元素显示和隐藏
```

- 如何让`CSS`只在当前组件中起作用

```
将当前组件的<style>修改为<style scoped>
```

- `<keep-alive></keep-alive>`的作用是什么？

```
<keep-alive></keep-alive>包裹动态组件时，会缓存不活动的组件实例，主要用于保留组件状态或避免重新渲染
```

- 为什么避免`v-if`和`v-for`用在一起？

```
当Vue处理指令时，v-for比v-if具有更高的优先级，通过v-if移动到容器元素，不会再遍历列表中的每个值。也就是说不会在v-if为否的时候
运算v-for。
```

- `$route` 和 `$router` 的区别

```
$route是“路由信息对象”，包括path，params，hash，query，fullPath，matched，name等路由信息参数。而$router是“路由实例”对象包括了路由的跳转方法，钩子函数等。
```
